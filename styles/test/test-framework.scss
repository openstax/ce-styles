$IS_FRAMEWORK_IMPORTED: false;
$IS_TEST: true;

@import "true";
@import "framework";

@include describe('Framework') {

  @include it('is successfully imported') {
    @include assert-true($IS_FRAMEWORK_IMPORTED);
  }

  @include it('can throw a test error in a mixin') {
    @include assert {
      @include output {
        @include error("Explode.")
      } @include expect {
        ERROR: "Explode.";
      }
    }
  }

  @include it('can throw a test error in a function') {
    @include assert {
      @include output {
        test: error("Explode.");
      } @include expect {
        test: "ERROR: Explode.";
      }
    }
  }

  @include it('provides the NULLABLE and NOT_NULL ValueSet enums') {
    @include assert-equal(
      enum('ValueSet::NULLABLE'),
      'ENUM__ValueSet::NULLABLE'
    );
    @include assert-equal(
      enum('ValueSet::NOT_NULL'),
      'ENUM__ValueSet::NOT_NULL'
    );
  }
  
}


@include describe('Enums') {

  @include it('allows enum creation') {
    @include create_enum_type('Test',
        'TEST',
        'ENUM'
    );
    @include assert-equal(
      'ENUM__Test::TEST',
      enum('Test::TEST')
    );
    @include assert-equal(
      'ENUM__Test::ENUM',
      enum('Test::ENUM')
    );
  }

  @include it('errors when getting a non-existant enum') {
    @include assert {
      @include output {
        test: enum('Null::NULL');
      } @include expect {
        test: "ERROR: Enum `Null::NULL` does not exist.";
      }
    }
  }

}
