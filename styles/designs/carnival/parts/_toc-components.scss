@function tocLinkPage($kind, $leader) {
  @return (
    _name: "#{$kind}LinkPage",
    _subselector: '::after',
    _properties: (
      content: "#{if($leader, "leader('.') " , "")}target-counter(attr(href), page)",
      display: if($leader, null, inline-block),
      margin-left: (enum('ValueSet:::OPTIONAL'), if($leader, null, 3rem)),
      font-family: enum('ValueSet:::REQUIRED'),
      font-size: enum('ValueSet:::REQUIRED'),
      line-height: enum('ValueSet:::REQUIRED'),
      font-weight: enum('ValueSet:::OPTIONAL'),
      color: enum('ValueSet:::OPTIONAL')
    )
  );
}

@function tocLink($kind, $leader: false, $extraProps: empty_map()) {
  @return (
    _name: "#{$kind}Link",
    _subselector: '> a',
    _properties: map-merge((
      font-family: enum('ValueSet:::REQUIRED'),
      font-size: enum('ValueSet:::REQUIRED'),
      line-height: enum('ValueSet:::REQUIRED'),
      font-weight: enum('ValueSet:::OPTIONAL'),
      color: (enum('ValueSet:::OPTIONAL'), #333333), //Why this color is used? Shouldn't be black? I can't find any document with info about it
      text-decoration: none
    ), $extraProps),
    _components: (
      tocLinkPage($kind, $leader)
    )
  )
}

$TocChapterCompositePage: (
  _name: 'TocChapterCompositePage',
  _subselector: ' > .os-toc-chapter-composite-page',
  _properties: (
    display: block //common for all books
  ),
  _components: (
    tocLink('TocChapterCompositePage')
  )
);

$TocChapterPage: (
  _name: 'TocChapterPage',
  _subselector: ' > .os-toc-chapter-page',
  _properties: (
    display: block //common for all books
  ),
  _components: (
    tocLink('TocChapterPage')
  )
);

$TocChapterList: (
  _name: 'TocChapterList',
  _subselector: ' > ol',
  _properties: (
    list-style: none, //common for all books
    padding-left: 0, //common for all books
    margin-left: 0, //common for all books
    display: block //common for all books
  ),
  _components: (
    $TocChapterPage,
    $TocChapterCompositePage,
  )
);

$TocChapterNumberWord: (
  _name: 'TocChapterNumberWord',
  _subselector: '::before',
  _properties: (
    content: "'Chapter '", //common for all books
    text-transform: uppercase, //common for all books
    letter-spacing: 0.1rem //??? There is no info about this property. is it common for all books? Should I add this to Theme Design Specs document?
  )
);

$TocChapterNumber: (
  _name: 'TocChapterNumber',
  _subselector: ' > a > .os-number',
  _properties: (
    display: block, //common for all books
    text-decoration: none, //common for all books
    pointer-events: none, //common for all books
    color: enum('ValueSet:::REQUIRED'), //??? At this moment is black; in Theme Design Specs document is info it should be book specific; on screenshots in https://github.com/openstax/cnx-recipes/issues/1070 once it's black, other time is blue.
    font-family: enum('ValueSet:::REQUIRED'), //it could be changed to hard coded; based on Theme Design Specs document in all books it should be Muli Black
    font-weight: bolder, //common for all books
    font-size: font-scale(1), //common for all books
    line-height: line-height(1) //common for all books
  ),
  _components: (
    $TocChapterNumberWord,
  )
);

$TocChapter: (
  _name: 'TocChapter',
  _subselector: ' > .os-toc-chapter',
  _properties: (
    display: block, //common for all books
    margin-bottom: v-grid(2) //common for all books
  ),
  _components: (
    $TocChapterNumber,
    tocLink('TocChapter', true),
    $TocChapterList
  )
);

$TocPreface: (
  _name: 'TocPreface',
  _subselector: '> .os-toc-preface',
  _properties: (
    display: block, //common for all books
    margin-bottom: v-grid(2) //common for all books
  ),
  _components: (
    tocLink('TocPreface'),
  )
);

$TocAppendixNumberWord: (
  _name: 'TocAppendixNumberWord',
  _subselector: '::before',
  _properties: (
    content: "'Appendix '", //common for all books
    text-transform: uppercase, //??? I can't find info it should all caps. Is it ok? Should I add this to Theme Design Specs?
  ),
);

$TocAppendixNumber: (
  _name: 'TocAppendixNumber',
  _subselector: ' > a > .os-number',
  _properties: (
    text-decoration: none, //common for all books
    pointer-events: none, //common for all books
    color: enum('ValueSet:::REQUIRED'), //It depends on color property in function tocLink. If there color be changed to black, I think this can be removed, because then it will be inherited from '.os-toc-appendix > a'
    font-family: enum('ValueSet:::REQUIRED'),// Now is set to Muli, but there is no info that 'APPENDIX #' has different font family than appendix title. If value should be IBM Plex Sans, I think this can be removed, because it could be inherited from '.os-toc-appendix > a'
    font-weight: bolder,//??? Based on Theme Design Specs it should be just bold
    font-size: font-scale(1), //It could be inherited from '.os-toc-appendix > a'. Can I remove this property?
    line-height: line-height(1), //It could be inherited from '.os-toc-appendix > a'. Can I remove this property?
  ),
  _components: (
    $TocAppendixNumberWord,
  )
);

$TocAppendixDivider: (
  _name: 'TocAppendixDivider',
  _subselector: '> a > .os-divider',
  _properties: (
    content: "' '", //common for all books
  ),
);

$TocAppendix: (
  _name: 'TocAppendix',
  _subselector: '> .os-toc-appendix',
  _properties: (
    margin-bottom: v-grid(1), // I can't find any info about this property. Is it common for all books? Should I add it to Theme Design Specs document? 
  ),
  _components: (
    $TocAppendixNumber,
    $TocAppendixDivider,
    tocLink('TocAppendix')
  ),
);

$TocIndex: (
  _name: 'TocIndex',
  _subselector: '> .os-toc-index',
  _properties: (
    display: block, //common for all books
    margin-bottom: v-grid(2), //common for all books
  ),
  _components: (
    tocLink('TocIndex'),
  )
);

$TocCompositeChapterCompositePage: (
  _name: 'TocChapterCompositePage',
  _subselector: ' > .os-toc-chapter-composite-page',
  _properties: (
    display: block, //common for all books
  ),
  _components: (
    tocLink('TocCompositeChapterCompositePage')
  )
);

$TocCompositeChapterList: (
  _name: 'TocCompositeChapterList',
  _subselector: ' > ol',
  _properties: (
    list-style: none, //common for all books
    padding-left: 0, //common for all books
    margin-left: 0, //common for all books
    display: block //common for all books
  ),
  _components: (
    $TocCompositeChapterCompositePage,
  )
);

$TocCompositeChapter: (
  _name: 'TocCompositeChapter',
  _subselector: '> .os-toc-composite-chapter',
  _properties: (
    display: block, //common for all books
    margin-bottom: v-grid(2), //common for all books
  ),
  _components: (
    $TocCompositeChapterList,
    tocLink('TocCompositeChapter'),
  )
);

$TocTopLevelList: (
  _name: 'TopLevelList',
  _subselector: ' > ol',
  _properties: (
    list-style: none, //common for all books
    padding-left: 0, //common for all books
    margin-left: 0, //common for all books
    margin-right: 2in //common for all books
  )
);

$TocContentsTitleWord: (
  _name: 'TocTitleWord',
  _subselector: '::before',
  _properties: (
    content: "'Contents'", //common for all books
    font-size: font-scale(8), //common for all books
    line-height: line-height(8), //common for all books
    color: enum('ValueSet:::REQUIRED'), //book specific (based only on second screenshot in https://github.com/openstax/cnx-recipes/issues/1070 , I didn't find any other document with info about it)
    display: block, //common for all books
    font-family: enum('ValueSet:::REQUIRED'), //it could be changed to hard coded; based on Theme Design Specs document it should be IBM Plex Sans Light in all books
    font-weight: lighter, //common for all books
    border-bottom: "5px solid #3172B6", //??? There is no document with info about this property. Is it common for all books?
    margin-bottom: v-grid(4), //common for all books
  )
);

$TocContainer: (
  _name: 'Container',
  _subselector: '',
  _properties: (
    page-break-after: always, //common for all books
  )
);