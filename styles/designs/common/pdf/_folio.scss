div.book > div.preface {
    counter-reset: page 1;
  } 
  
  [data-type="chapter"] > h1[data-type="document-title"] {
    .os-number {
      string-set: chapter-number content();
    }
    .os-text {
      string-set: chapter-title content();
    }
  }
  
  [data-type="chapter"] > [data-type="page"] > h2[data-type="document-title"] {
    .os-number {
      string-set: module-number content();
    }
    .os-text {
      string-set: module-title content();
    }
  }
  
  nav#toc {
    page: table-of-contents;
  }
  
  div[data-type="page"].preface {
    page: preface;
  }
  
  .chapter {
    page: chapter;
    prince-page-group: start;
  }
  @page chapter:nth(1) {
    @top-left-corner {
      content: none;
    }
    @top-right-corner {
      content: none;
    }
    @top-left {
      content: none;
    }
    @top-center {
      content: none;
    }
    @top-right {
      content: none;
    }
  }
  
  @page table-of-contents {
    @top-left-corner {
      content: none;
    }
    @top-left {
      content: none;
    }
    @top-right-corner {
      content: none;
    }
    @top-right {
      content: none;
    }
  }
  
  @page preface:left {
    @top-left {
      content: counter(page);
    }
    @top-right {
      content: "Preface";
    }
  }
  
  @page preface:right {
    @top-left {
      content: "Preface";
    }
    @top-right {
      content: counter(page);
    }
  }
  
  @page :left {
    @top-left {
      content: counter(page) " " "Chapter " string(chapter-number) " â€¢ " string(chapter-title);
      font-size: font-scale(1);
      font-family: "Muli";
      font-weight: 700;
    }
  }
  
  @page :right {
    @top-right {
      content: string(module-number) " " string(module-title) " "counter(page);
      font-size: font-scale(1);
      font-family: "Muli";
      font-weight: 700;
    }
  }