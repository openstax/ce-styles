@function default-font-map() {
  $DEFAULT_FONT_MAP: (
    serif: Liberation,
    sans-serif: Liberation Sans,
  );
  @return $DEFAULT_FONT_MAP;
}

@function font-map($name) {
  @if map-has-key($font_map, $name) {
    @return map-get($font_map, $name);
  }
  @error "Unknown font map designation: #{$name}";
}

$font-map-manifest: ();
@mixin font-map-merge($function) {
  $font-map-manifest: append($font-map-manifest, $function) !global;
@include update-font-config();
}

// Ensure all default keys are available from $font-map and font-map()
$font-map: default-font-map() !default;

@mixin update-font-config() {
  $font-map: default-font-map() !global;
  @each $map-get-function in $font-map-manifest {
    $font-map: map-merge($font-map, call($map-get-function)) !global;
  }
}
