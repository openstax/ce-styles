$FRAMEWORK_SETTINGS_MANIFEST_GLOBAL: ();
$FRAMEWORK_USED_SETTINGS: ();

@mixin add_settings_functions($function...) {
  $FRAMEWORK_SETTINGS_MANIFEST_GLOBAL: join($function, $FRAMEWORK_SETTINGS_MANIFEST_GLOBAL) !global;
}

@mixin clear_settings_functions() {
  $FRAMEWORK_SETTINGS_MANIFEST_GLOBAL: () !global;
}

@mixin add_temp_settings_functions($function...) {
  @include add_settings_functions($function...);
  @content;
  @include clear_settings_functions();
}


@function settings($name, $default: enum('Argument:::NONE')) {
  @each $function in $FRAMEWORK_SETTINGS_MANIFEST_GLOBAL {
    $function_settings: call($function);
    @if map-has-key($function_settings, $name) {
      
      @return map-get($function_settings, $name);
    }
  }
  @if $default != enum('Argument:::NONE') {
    @return $default;
  }
  @return error("Unknown setting `#{$name}`.");
}

@function settings_not_null($name, $default: enum('Argument:::NONE')) {
  $settings-result: settings($name, $default);
  @if $settings-result != null {
    @return $settings-result;
  }
  @return error("Received a disallowed NULL value for setting `#{$name}`.");
}
